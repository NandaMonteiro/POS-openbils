<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
    xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <head>
        <title>Open Bills</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        
        <h:outputScript>
                
                var listaEstadoMedia;
            
                function populateList(lista) {
                    listaEstadoMedia = lista;
                     var i = 0;
                     lista.forEach(function(e){
                        console.log("estado: " + e.estado + " receita media: " + e.receita); 
                     });
                     
                }
                
                populateList(#{(service.array)}  );
        </h:outputScript>
        
    
    </head>
       
    <body>         
        
        <h:dataTable value="#{service.lista}" var="o" >
            <h:column>
                <!-- column header -->
                <f:facet name="header">Estado</f:facet>
                <!-- row record -->
                #{o.estado}
            </h:column>
            
            <h:column>
                <f:facet name="header">Media da receita</f:facet>
    		#{o.receita}
            </h:column>
    	</h:dataTable>
      
    </body>
</html>
